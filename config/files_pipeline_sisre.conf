# This file describe most files used by WHERE and is used extensively by the where.lib.files module to read from, write
# to and copy the correct files.
#
# Each file is referenced by a unique file key, written here in square brackets, e.g. [file_key]. Further, the
# following key-values are recognized:
#
#     filename:       The name of the file on disk.
#     aliases:        Alternative file names.
#     directory:      The directory the file is located in.
#     publish:        Directories the file may be published (copied) to.
#     description:    Quick description of the file, only for documenting purposes.
#     specification:  Link to a document specifying the format of the file.
#     creator:        The script that creates the file, if applicable.
#     origin:         Web site where the file can be found, if applicable. This should point to a website where the
#                     file can be downloaded. Not used by the program, only for documenting purposes.
#     url:            The actual url (or base-url without filename) the file can be downloaded from.
#     parser:         Name of parser (i.e. file in parsers-directory without .py) that parses the file.
#
# Files that may be gzipped can be specified as having {gz} at the end of the filename (with the curly braces). In
# this case, the gzipped version will be automatically used if it as available. Otherwise, the fallback is the
# unzipped version.
#
# This configuration file uses placeholders, which are replaced by running WHERE, for example the current running date
# or the station in use. The following placeholders are available for all files:
#
#   PLACEHOLDER      DESCRIPTION
#_________________________________________________________________________________________
#   {ce}             - century (e.g. 20 for the year 2019)
#   {date}           - same as {yyyy}{mm}{dd}, e.g. 20190128
#   {d}              - day (1-31)
#   {dd}             - day (01-31)
#   {dow}            - day of week (0: Sunday, 1: Monday, ..., 6: Saturday)
#   {doy}            - day of year (001-366)
#   {gpsweek}        - GPS week
#   {gz}             - file may or may not be gzipped
#   {hh}             - hour (00-23)
#   {id}             - as provided by --id=... on the command line
#   {m}              - month (1-12)
#   {mm}             - month (01-12)
#   {mmm}            - month (jan-dec)
#   {MMM}            - month (JAN-DEC)
#   {pipeline}       - technique (e.g. doris, gnss, vlbi, slr)
#   {stage}          - pipeline stage
#   {user}           - user name      
#   {yy}             - last 2 digits of year (00-99)
#   {yyyy}           - year (e.g. 2019)
#   {path_<name>}    - Path defined in [path] section of where.conf file, whereby <name> should be replaced with the
#                      defined path name in [path] section (e.g. path_data or path_work) 
#
# In addition, additionaly placeholders can be defined, but these must be explicitly included in the [__vars__]
# section. For example, {path_analysis} can be used as placeholder in following case:
#
#   [__var__]
#   path_analysis = {path_work}/{user}/{pipeline}/{pipeline}{id}/{date}
#
# Following SISRE pipeline specific placeholders are also defined:
#
#   {sampling_rate}  - Sampling rate of observation data in seconds
#   {session_name}   - Session name of SISRE analysis (e.g. cnes_inav_e1)
#   {station}        - Station name in lowercase letters
#   {STATION}        - Station name in uppercase letters


#
# ANALYSIS DIRECTORY DEFINITION
#_____________________________________________________________________________________________________________________
[__vars__]
path_analysis   = {path_work}/{user}/{pipeline}/{pipeline}{id}/{date}


#
# INPUT FILES
#_____________________________________________________________________________________________________________________
[antex]
filename        = igs20.atx
directory       = {path_data}/gnss/apriori/antenna
description     = GNSS satellite and receiver antenna corrections in ANTEX format
specification   = https://files.igs.org/pub/data/format/antex14.txt
origin          = https://files.igs.org/pub/station/general/igs20.atx
url             = https://files.igs.org/pub/station/general/
parser          = antex

[gnss_has_cb]
filename        = SEPT{doy}0.{yy}_has_cb.csv{gz}
directory       = {path_data}/gnss/orb/has/{yyyy}/{doy}
description     = Galileo HAS code bias corrections generated by GHASP HAS decoder based on Septentrio receiver files
parser          = gnss_has_decoder

[gnss_has_clk]
filename        = SEPT{doy}0.{yy}_has_clk.csv{gz}
directory       = {path_data}/gnss/orb/has/{yyyy}/{doy}
description     = Galileo HAS clock corrections generated by GHASP HAS decoder based on Septentrio receiver files
parser          = gnss_has_decoder

[gnss_has_cp]
filename        = SEPT{doy}0.{yy}_has_cp.csv{gz}
directory       = {path_data}/gnss/orb/has/{yyyy}/{doy}
description     = Galileo HAS phase bias corrections generated by GHASP HAS decoder based on Septentrio receiver files
parser          = gnss_has_decoder

[gnss_has_orb]
filename        = SEPT{doy}0.{yy}_has_orb.csv{gz}
directory       = {path_data}/gnss/orb/has/{yyyy}/{doy}
description     = Galileo HAS orbit corrections generated by GHASP HAS decoder based on Septentrio receiver files
parser          = gnss_has_decoder

[gnss_orbit_sp3]
filename        = COD0OPSFIN_{yyyy}{doy}0000_01D_05M_ORB.SP3{gz}
aliases         = COD0MGXFIN_{yyyy}{doy}0000_01D_05M_ORB.SP3{gz},
                  com{gpsweek}{dow}.sp3{gz},
                  GRG0OPSFIN_{yyyy}{doy}0000_01D_05M_ORB.SP3{gz},
                  GRG0MGXFIN_{yyyy}{doy}0000_01D_05M_ORB.SP3{gz},
                  GRG0MGXFIN_{yyyy}{doy}0000_01D_15M_ORB.SP3{gz},
                  grm{gpsweek}{dow}.sp3{gz}
directory       = {path_data}/gnss/orb/igs/{gpsweek}
description     = GNSS orbit files in SP3 format
specification   = https://files.igs.org/pub/data/format/sp3d.pdf
origin          = https://cddis.nasa.gov/archive/gnss/products/{gpsweek}
url             = https://cddis.nasa.gov/archive/gnss/products/{gpsweek}
parser          = orbit_sp3

[gnss_rinex_clk]
filename        = COD0OPSFIN_{yyyy}{doy}0000_01D_30S_CLK.CLK{gz}
aliases         = COD0MGXFIN_{yyyy}{doy}0000_01D_30S_CLK.CLK{gz},
                  com{gpsweek}{dow}.clk{gz},
                  GRG0OPSFIN_{yyyy}{doy}0000_01D_30S_CLK.CLK{gz},
                  GRG0MGXFIN_{yyyy}{doy}0000_01D_30S_CLK.CLK{gz},
                  grm{gpsweek}{dow}.clk{gz}
directory       = {path_data}/gnss/orb/igs/{gpsweek}
description     = GNSS satellite clock files in RINEX clock format
specification   = https://files.igs.org/pub/data/format/rinex_clock304.txt
origin          = https://cddis.nasa.gov/archive/gnss/products/{gpsweek}
url             = https://cddis.nasa.gov/archive/gnss/products/{gpsweek}
parser          = rinex_clk

[gnss_rinex_nav_M]
filename        = BRDC00IGS_R_{yyyy}{doy}0000_01D_MN.rnx.gz
aliases         = BRDM00DLR_S_{yyyy}{doy}0000_01D_MN.rnx{gz},
                  brdm{doy}0.{yy}p{gz},
                  BRDC00GOP_R_{yyyy}{doy}0000_01D_MN.rnx{gz}
directory       = {path_data}/gnss/orb/brdc/{yyyy}/{doy}
description     = GNSS navigation file in RINEX format
specification   = https://files.igs.org/pub/data/format/rinex211.txt, 
                  https://files.igs.org/pub/data/format/rinex305.pdf
origin          = https://cddis.nasa.gov/archive/gnss/data/daily/{yyyy}/{doy}/{yy}p
url             = https://cddis.nasa.gov/archive/gnss/data/daily/{yyyy}/{doy}/{yy}p
parser          = rinex_nav

[gnss_rinex_nav_E]
filename        = {station}{doy}0.{yy}l{gz}
aliases         = {STATION}00NOR_R_{yyyy}{doy}0000_01D_EN.rnx{gz},
                  BRDC00CNS_R_{yyyy}{doy}0000_01D_EN.rnx{gz}
directory       = {path_data}/gnss/orb/brdc/{yyyy}/{doy}
description     = Galileo navigation file in RINEX format
specification   = https://files.igs.org/pub/data/format/rinex211.txt, 
                  https://files.igs.org/pub/data/format/rinex305.pdf
origin          = https://cddis.nasa.gov/archive/gnss/data/daily/{yyyy}/{doy}/{yy}l
parser          = rinex_nav

[gnss_rinex_nav_G]
filename        = {station}{doy}0.{yy}n{gz}
aliases         = {STATION}00NOR_R_{yyyy}{doy}0000_01D_GN.rnx{gz},
                  BRDC00CNS_R_{yyyy}{doy}0000_01D_GN.rnx{gz}
directory       = {path_data}/gnss/orb/brdc/{yyyy}/{doy}
description     = GPS navigation file in RINEX format
specification   = https://files.igs.org/pub/data/format/rinex211.txt, 
                  https://files.igs.org/pub/data/format/rinex305.pdf
origin          = https://cddis.nasa.gov/archive/gnss/data/daily/{yyyy}/{doy}/{yy}n
parser          = rinex2_nav, rinex212_nav, rinex3_nav

[gnss_sinex_bias]
filename        = CAS1OPSRAP_{yyyy}{doy}0000_01D_01D_DCB.BIA{gz}
#filename       = DLR0OPSFIN_{yyyy}0010000_03L_01D_DCB.BIA{gz}
aliases         = CAS0OPSRAP_{yyyy}{doy}0000_01D_01D_DCB.BIA{gz}
                  CAS0MGXRAP_{yyyy}{doy}0000_01D_01D_DCB.BSX{gz}
                  GFZ0OPSRAP_{yyyy}{doy}0000_01D_01D_DCB.BIA{gz}
#aliases        = DLR0MGXFIN_{yyyy}0010000_03L_01D_DCB.BSX{gz}
directory       = {path_data}/gnss/apriori/dcb/{yyyy}
description     = Multi-GNSS differential code bias (DCB) file given in SINEX format
specification   = https://files.igs.org/pub/data/format/sinex_bias_100.pdf
origin          = https://cddis.nasa.gov/archive/gnss/products/bias/{yyyy}
url             = https://cddis.nasa.gov/archive/gnss/products/bias/{yyyy}
parser          = gnss_sinex_bias


#
# OUTPUT FILES
#_____________________________________________________________________________________________________________________
[output_rinex3_nav]
filename        = {STATION}00NMA_R_{yyyy}{doy}0000_01D_MN.rnx
directory       = {path_analysis}
description     = GNSS broadcast information in RINEX format 3.03
creator         = writers/rinex3_nav.py

[output_satellite_position]
filename        = {date}_{station}_satellite_position.txt
directory       = {path_analysis}
description     = Satellite position results in Where format
creator         = writers/gnss_satellite_position.py

[output_sisre_buffer]
filename         = sisre_output_buffer.txt
directory        = {path_work}
description      = Buffer file for SISRE output file
creator          = writers/sisre_output_buffer.py

[output_sisre_clean]
filename        = sisre_{date}_{sampling_rate}s_{session_name}_clean.txt
directory       = {path_analysis}
publish         = {path_publish}/{yyyy}/{doy}
description     = Result of cleaned SISRE analysis in Where format (outlier rejection applied)
creator         = writers/sisre_writer.py

[output_sisre_comparison]
filename        = sisre_comparison_{date}_{solution}.txt
directory       = {path_work}/{user}/{pipeline}/comparison/{yyyy}
description     = Result of SISRE comparison analysis in CSV format. Note: {service} and {SERVICE} placeholder
                  can be used in addition for this file key. Service represents OS (Open Service) or HAS (High 
                  Accuracy Service) in lower- or uppercase.
creator         = writers/sisre_comparison.py

[output_sisre_comparison_csv]
filename        = sisre_comparison_{date}_{solution}.csv
directory       = {path_work}/{user}/{pipeline}/comparison/{yyyy}
description     = Result of SISRE comparison analysis in CSV format. Note: {service} and {SERVICE} placeholder 
                  can be used in addition for this file key. Service represents OS (Open Service) or HAS
                  (High Accuracy Service) in lower- or uppercase.
creator         = writers/sisre_comparison.py

[output_sisre_comparison_grc_csv]
filename        = {date}_{pipeline}_comparison.csv
directory       = {path_work}/{user}/{pipeline}/comparison/{yyyy}
description     = Result of SISRE comparison analysis in GRC CSV format. Note: {service} and {SERVICE} placeholder
                  can be used in addition for this file key. Service represents OS (Open Service) or HAS (High 
                  Accuracy Service) in lower- or uppercase.
creator         = writers/sisre_comparison_grc_csv.py

[output_sisre_comparison_report]
filename        = {date}_sisre_comparison_report.md
directory       = {path_work}/{user}/{pipeline}/comparison/{yyyy}
description     = Result of SISRE comparison analysis written to a report. Note: {service} and {SERVICE} placeholder
                  can be used in addition for this file key. Service represents OS (Open Service) or HAS (High 
                  Accuracy Service) in lower- or uppercase.
creator         = writers/sisre_comparison_report.py

[output_sisre_comparison_report_figure]
filename        = figure
directory       = {path_work}/{user}/{pipeline}/comparison/{yyyy}
description     = Figure directory used for saving SISRE comparison report figures. Note: {service} and {SERVICE} 
                  placeholder can be used in addition for this file key. Service represents OS (Open Service) or HAS 
                  (High Accuracy Service) in lower- or uppercase.
creator         = writers/sisre_comparison_report.py

[output_sisre_plot]
filename        = plot_{date}_{system}_{field}.{format}
directory       = {path_analysis}/figure
description     = Define path for saving SISRE plots
creator         = writers/sisre_plot.py

[output_sisre_raw]
filename        = sisre_{date}_{sampling_rate}s_{session_name}.txt
directory       = {path_analysis}
publish         = {path_publish}/{yyyy}/{doy}
description     = Result of SISRE analysis in Where format (without applying outlier rejection)
creator         = writers/sisre_writer.py

[output_sisre_report_clean]
filename        = sisre_{date}_{sampling_rate}s_{session_name}_clean.md
directory       = {path_analysis}
description     = Result of cleaned SISRE analysis written to a report (outlier rejection applied)
creator         = writers/sisre_report.py

[output_sisre_report_figure]
filename        = figure
directory       = {path_analysis}
description     = Figure directory used for saving SISRE report figures
creator         = writers/sisre_report.py

[output_sisre_report_raw]
filename        = sisre_{date}_{sampling_rate}s_{session_name}.md
directory       = {path_analysis}
description     = Result of SISRE analysis written to a report (without applying outlier rejection)
creator         = writers/sisre_report.py

[output_sisre_subplot]
filename        = subplot_{date}_{system}.{format}
directory       = {path_analysis}/figure
description     = Define path for saving SISRE subplots
creator         = writers/sisre_plot.py




